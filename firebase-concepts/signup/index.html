<!doctype html>
<html>
  <head>
    <title>Fire Signup Test</title>
    <style>
      .container{
        max-width: 960px;
        margin:0 auto;
      }
      #signup-form{
        max-width: 400px;
        margin:0 auto;
      }
      label{
        display: block;
        padding:5px;
      }
      input{
        display: block;
        width:100%;
        padding:10px;
      }
      button{
        margin-top: 20px;
        padding:12px;
        border:1px solid black;
        border-radius:4px;
      }
    </style>
    
  </head>
  <body>
    <div class="container">
      <form id="signup-form">
        <h2>Sign up for an account</h2>
        <label>Email</label>
        <input type="email" name="email" id="email">
        <label>Password</label>
        <input type="password" name="password" id="password">
        <button type="submit">Sign Up</button>
      </form>
    </div>
<!--    Load Firebase Library-->
    <script src="https://www.gstatic.com/firebasejs/3.9.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDQOMPrV3FfAHRe7q96k_BpbX3Cafhz0KE",
        authDomain: "todo-test-7fe87.firebaseapp.com",
        databaseURL: "https://todo-test-7fe87.firebaseio.com",
        projectId: "todo-test-7fe87",
        storageBucket: "todo-test-7fe87.appspot.com",
        messagingSenderId: "415683205056"
      };
      firebase.initializeApp(config);
      
      //---app logic
      //get a reference to the form
      let signup = document.getElementById('signup-form');
      //add a listener to the form
      signup.addEventListener('submit',getFormData);
      function getFormData(event){
        //stop the form from refreshing the page
        event.preventDefault();
        //get data from form
        var data = new FormData(event.target);
        //sign user up with firebase
        firebase.auth().createUserWithEmailAndPassword(data.get('email'), data.get('password')).catch(function(error) {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log(errorMessage);
        });
      }
      
    </script>
  </body>
</html>